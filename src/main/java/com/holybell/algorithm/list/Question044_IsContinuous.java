package com.holybell.algorithm.list;


/**
 * 难度:中等
 * <p>
 * 如何判断一个数组中数值是否连续相邻
 * <p>
 * 一个数组序列，元素取值可能是0-65535中任意一个数，相同数值不会重复出现。
 * 0是例外，可以反复出现。
 * <p>
 * 设计一种算法，当从该数组序列中随意取5个数值，判断这5个数值是否连续相邻。
 * <p>
 * 需要注意以下4点：
 * 1. 5个数值是允许乱序的，例如{8,7,5,0,6}
 * 2. 0可以通配任意数值，例如{8,7,5,0,6}中的0可以通配成9或者4
 * 3. 0可以出现多次
 * 4. 全0算连续，只有一个非0算连续。
 */
public class Question044_IsContinuous {

    /**
     * 判断指定数组内的元素是否连续相邻
     *
     * @param a 指定数组
     */
    private static boolean myIsContinuous(int[] a) {
        return false;
    }

    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------
    // --------------------------------------------------------------------

    /**
     * 判断指定数组内的元素是否连续相邻
     *
     * @param a 指定数组
     */
    private static boolean isContinuous(int[] a) {

        // 以下情况不处理
        if (a == null || a.length == 0) {
            return false;
        }

        // 数组取值范围 0 - 65535 最大值最小值分别选取不可能的大小值
        int max = -1, min = 65536;
        int _0Count = 0;

        // 求数组的最大值，最小值
        for (int i = 0; i < a.length; i++) {
            // 0属于特殊情况，不计入最大值最小值讨论
            if (a[i] != 0) {
                max = Math.max(max, a[i]);
                min = Math.min(min, a[i]);
            } else {
                _0Count++;
            }
        }

        // 若全部为0那么相邻
        // 只有一个非0也算连续
        if (_0Count == a.length || _0Count == a.length - 1) {
            return true;
        }

        // 在不考虑0的情况下，如果一个数组要连续相邻，那么最大值-最小值=长度-1,
        // 考虑0的情况下，排除全0和仅有一个非0的情况，最大值-最小值 < 长度-1
        return (max - min) <= (a.length - 1);
    }

    public static void main(String[] args) {
        int a[] = {8, 7, 5, 0, 6};
        System.out.println("正确答案:数组{8,7,5,0,6}" + (isContinuous(a) ? "连续相邻" : "不连续相邻"));
        System.out.println("本次答案:数组{8,7,5,0,6}" + (myIsContinuous(a) ? "连续相邻" : "不连续相邻"));
    }
}
